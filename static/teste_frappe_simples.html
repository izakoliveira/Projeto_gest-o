<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teste Frappe Gantt Simples</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/frappe-gantt@0.6.1/dist/frappe-gantt.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container">
        <div class="card">
            <div class="card-header">
                <h4 class="mb-0">
                    <i class="fas fa-chart-bar me-2"></i>
                    Teste Frappe Gantt - Dados Fixos
                </h4>
            </div>
            <div class="card-body">
                <div id="gantt"></div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/frappe-gantt@0.6.1/dist/frappe-gantt.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            console.log('[DEBUG] Iniciando teste do Frappe Gantt');
            
            // Dados de teste fixos
            const tarefas = [
                {
                    id: '1',
                    name: 'Análise de Requisitos',
                    start: '2025-01-01',
                    end: '2025-01-15',
                    progress: 100,
                    dependencies: '',
                    custom_class: 'status-concluida'
                },
                {
                    id: '2',
                    name: 'Design do Sistema',
                    start: '2025-01-10',
                    end: '2025-01-25',
                    progress: 80,
                    dependencies: '1',
                    custom_class: 'status-em-progresso'
                },
                {
                    id: '3',
                    name: 'Desenvolvimento Backend',
                    start: '2025-01-20',
                    end: '2025-02-10',
                    progress: 60,
                    dependencies: '2',
                    custom_class: 'status-em-progresso'
                },
                {
                    id: '4',
                    name: 'Desenvolvimento Frontend',
                    start: '2025-01-25',
                    end: '2025-02-15',
                    progress: 40,
                    dependencies: '2',
                    custom_class: 'status-em-progresso'
                },
                {
                    id: '5',
                    name: 'Testes de Integração',
                    start: '2025-02-05',
                    end: '2025-02-20',
                    progress: 20,
                    dependencies: '3,4',
                    custom_class: 'status-pendente'
                },
                {
                    id: '6',
                    name: 'Deploy em Produção',
                    start: '2025-02-15',
                    end: '2025-02-25',
                    progress: 0,
                    dependencies: '5',
                    custom_class: 'status-pendente'
                }
            ];
            
            console.log('[DEBUG] Dados de teste:', tarefas);
            
            try {
                const gantt = new Gantt("#gantt", tarefas, {
                    view_mode: 'Month',
                    date_format: 'YYYY-MM-DD',
                    show_progress: true,
                    show_arrows: true,
                    show_today: true,
                    show_weekends: true,
                    language: 'pt',
                    on_click: function (task) {
                        console.log('Tarefa clicada:', task);
                    },
                    on_date_change: function (task, start, end) {
                        console.log('Data alterada:', task, start, end);
                    },
                    on_progress_change: function (task, progress) {
                        console.log('Progresso alterado:', task, progress);
                    }
                });
                console.log('[DEBUG] Frappe Gantt inicializado com sucesso');
            } catch (error) {
                console.error('[DEBUG] Erro ao inicializar Frappe Gantt:', error);
            }
        });
    </script>
</body>
</html> 